# Lamoda Quiz
## Установка
 * git clone https://github.com/razielsd/lamoda-quiz.git
 * docker-compose up
 * docker-compose run php-fpm  bash
 * composer install
 
## Запуск
 * bin/console lamoda-search - поиск контейнеров
 * bin/console lamoda-db-fill - заполнить базу контейнерами (по умолчанию должны быть)
 * Запуск тестов vendor/bin/phpunit (их немного, но есть)
  
 
 ## Алгоритм

Сначала пытаемся найти контейнеры у которых наибольшее кол-во товара еще не нашли, и далее снижаем требования по кол-ву новых товаров в контейнере.
### Оптмизации
 * Читаем контейнеры порциями
 * Запоминаем кол-во подходящих товаров в контейне и учитываем это при дальнейшем подборе контейнеров
 * Ограничиваем максимальное кол-во контейнеров для поиска
 * Если долго не получается найти подходящий контейнер - снижаем требования по жадности
 * Сортируем контейнеры из каждой загруженой порции, чтобы сначала были более редкие товары, а потом более часто встречающиеся.
 
 
Основная часть кода поиска подходящих контейнеров со всеми настройками находится в [src/Command/SearchCommand.php](src/Command/SearchCommand.php).

## API
* [Схема OpenAPI v.3](docs/openapi.json)

## Упрощения
 * Вся конфигурация в коде, в отдельные конфиги не вынесена.
 * контейнеры хранятся в виде json.

